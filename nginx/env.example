###############################
# Z-Push + Zimbra Backend env #
###############################

# Container image tag
ZPUSH_IMAGE=local/zpush:latest

# Host loopback bind for the container's HTTP port
# Zimbra's NGINX will proxy to 127.0.0.1:${ZPUSH_HTTP_PORT}
ZPUSH_HTTP_PORT=9073

# PHP / Upload sizing and timeouts (tune as needed)
PHP_MEMORY_LIMIT=256M
PHP_UPLOAD_MAX_FILESIZE=50M
PHP_POST_MAX_SIZE=50M
PHP_MAX_EXECUTION_TIME=3600
PHP_MAX_INPUT_TIME=3600

# NGINX client body size (must be >= PHP post size)
NGINX_CLIENT_MAX_BODY_SIZE=50m

# Zimbra Backend Configuration
# The Zimbra server URL (will be set in the backend config at runtime)
# Use http://localhost:8080 when running ON the Zimbra server
# Use https://your-zimbra-server:8443 when running remotely
ZIMBRA_URL=http://localhost:8080

# SSL Certificate verification (set to true for production with valid certs)
ZIMBRA_SSL_VERIFYPEER=false
ZIMBRA_SSL_VERIFYHOST=false

# Java Shim Configuration
# Enable Java shim for performance boost (set to true to enable)
ZIMBRA_USE_JAVA_SHIM=false

# Java shim endpoint URL
ZIMBRA_SHIM_URL=http://localhost:8080/service/extension/zpush-shim
